{% extends 'base.html.twig' %}

{% block title 'Profil' %}

{% block body %}
    <div class="container">
        <div class="row my-2 cont">
            <div class="col-lg-8 order-lg-2">
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a href="" data-target="#profile" data-toggle="tab" class="nav-link active" style="color:#000 !important;">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a href="" data-target="#edit" data-toggle="tab" class="nav-link" style="color:#000 !important;">Mot de passe</a>
                    </li>
                </ul>
                <!-- Beginning of User Profil Panel-->
                <div class="tab-content py-4">
                    <div class="tab-pane active" id="profile">
                        <h2 class="mb-3 text-muted text-center profil">Profil</h2><br>
                        <form role="form" method="GET" action="{{ path ('update_pseudo') }}">
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Prenom</label>
                                <div class="col-lg-9">
                                    <input class="form-control" style="border:none !important;border-bottom: solid 1px !important;" type="text" value="{{ app.user.firstName }}">
                                </div>
                            </div><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Nom</label>
                                <div class="col-lg-9">
                                    <input class="form-control" style="border:none !important;border-bottom: solid 1px !important;" type="text" value="{{ app.user.lastName }}">
                                </div>
                            </div><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Pseudo</label>
                                <div class="col-lg-9">
                                    <input class="form-control" type="text" style="border:none !important;border-bottom: solid 1px !important;" name="username" value="{{ app.user.username }}">
                                </div>
                            </div><br>

                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label"></label>
                                <div class="col-lg-9">
                                    <input type="reset" class="btn btn-danger" value="Réinitialiser">
                                    <input type="submit" class="btn btn-primary" value="Modifier mon pseudo" >
                                </div>
                            </div>
                        </form>
                        <!--/row-->
                    </div>
                    <!-- End of User Profil Panel-->


                    <!-- Beginning of User Edit Panel-->
                    <div class="tab-pane" id="edit">
                        <form role="form" method="GET" action="/profil/edit">
                            <h2 class="mb-3 text-muted text-center profil">Modifier le mot de passe</h2><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Mot de passe actuel</label>
                                <div class="col-lg-9">
                                    <input class="form-control" style="border:none !important;border-bottom: solid 1px !important;" type="password" name="old_password" value="">
                                </div>
                            </div><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Nouveau mot de passe</label>
                                <div class="col-lg-9">
                                    <input class="form-control" type="password" style="border:none !important;border-bottom: solid 1px !important;" name="new_password" value="" >
                                </div>
                            </div><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label">Confirmation du mot de passe</label>
                                <div class="col-lg-9">
                                    <input class="form-control" type="password" style="border:none !important;border-bottom: solid 1px !important;" name="new_password_confirm" value="">
                                </div>
                            </div><br>
                            <div class="form-group row">
                                <label class="col-lg-3 col-form-label form-control-label"></label>
                                <div class="col-lg-9">
                                    <input type="reset" class="btn btn-danger" value="Réinitialiser">
                                    <input type="submit" class="btn btn-primary" value="Modifier mot de passe">
                                </div>
                            </div>
                        </form>
                    </div>
                    <!-- End of User Edit Panel-->
                </div>
            </div>
            <!-- Beginning of User Profil Picture-->
            <div class="col-lg-4 order-lg-1 text-center">
                {% if vich_uploader_asset(user) is null %}
                        <img src="{{ asset('assets/profils/profil2.jpg') }}" alt="{{ user.firstName }}" id="img1" width="200px" height="200" class="rounded-circle" />
                {% else %}
                        <img src="{{ vich_uploader_asset(user)|imagine_filter("squared_thumbnail_medium") }}" alt="{{ user.imageFile }}" id="img1" width="200px" height="200" class="rounded-circle" />
                {% endif %}
                <!--h6 class="mt-2" style="position:static;">Upload a different photo</h6-->
                {# <label class="custom-file-label">
                     <input type="file" id="file" class="custom-file-input">
                     <span class="custom-file-control">Choose file</span>
                     <br><br>
                    <input type="submit" class="btn" value="Enregistrer la Modification" style="background-color:#254d74;color:white">
                </label>
                #}
                {{ form(form) }}

            </div>
            <!-- End of User Profil Picture-->
        </div>
    </div>
{% endblock %}
